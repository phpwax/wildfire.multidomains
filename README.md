Operates in this kind of way:

domain.com/ isnt joined to any domains so triggers cms content in normal way
test.domain.com is joined to a piece of content (/test/) so finds the page

You will need to set the cms_content_class to DomainContent on ApplicationController